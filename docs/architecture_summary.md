# Sigma-X 아키텍처 요약

이 문서는 `output.md`의 분석 내용을 토대로 Sigma-X 시스템의 구조와 향후 개선 방향을 정리합니다.

## 주요 구성 요소

- **초기화 단계**: 환경 변수와 DB 설정을 불러와 ORM 테이블을 자동 생성하고 로깅, 플러그인 로딩, 모니터링 지표, 헬스체크, 캐시, 알림, API 서비스, 이벤트 루프, 세션 관리 등을 순차적으로 수행합니다.
- **실시간 처리 루프**: WebSocket으로 수집한 시세를 Redis Pub/Sub으로 배포하고, TradingBot이 신호를 생성해 RabbitMQ 큐로 주문을 전송합니다. 모의 체결, 시장 국면 탐지, 전략 파라미터 자동 조정, 리스크 관리, 알림, 품질 평가, 이상치 및 뉴스 이벤트 처리가 포함됩니다.
- **스케줄러 작업**: APScheduler를 활용해 일일 전략 최적화, 데이터 정리, 시스템 점검, 성과 보고서 생성, 머신러닝 기반 자동 튜닝 등을 주기적으로 실행합니다.
- **시뮬레이션 및 백테스트 모드**: 실시간 루프 구조를 재사용하되 데이터 소스만 변경하여 모의 체결과 백테스트를 수행합니다. 히스토리 데이터 로드, 결과 저장과 분석을 통해 전략을 검증합니다.
- **API 및 대시보드**: FastAPI 기반 REST API와 WebSocket 방송을 제공하며, React 대시보드와 연동해 실시간 데이터와 과거 성과를 시각화합니다.

## 주요 개선 사항

- WebSocket 기반 실시간 데이터 수집기 구현 및 event_loop 비동기화
- RabbitMQ를 도입해 주문 처리를 비동기 워커로 분리
- 전략 플러그인 로딩과 파라미터 실시간 업데이트 기능 강화
- 시뮬레이터와 백테스터, CLI 기반 모드 전환 기능 추가
- 주문과 포지션 관리를 위한 DB 스키마 확장과 Alembic 마이그레이션 도구 도입
- 운영 제어와 데이터 조회를 위한 추가 API 엔드포인트 구현
- 로그 파일 순환 및 예외 처리 강화, Slack 알림 연계
- RiskManager, AnomalyDetector, NewsHandler 등 부가 모듈 개발 고려

최근 커밋에서는 다음과 같은 개선이 이루어졌습니다.

- 플러그인 동적 로더 구현
- asyncio 기반 이벤트 루프와 주문 워커 도입
- FastAPI 엔드포인트 확장 및 간단한 토큰 인증 추가

자세한 세부 내용은 `output.md` 파일을 참고하세요.
